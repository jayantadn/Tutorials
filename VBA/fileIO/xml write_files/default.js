(function(k,w,h,v){var d=k.fn.peity=function(a,b){y&&this.each(function(){var e=k(this),c=e.data("_peity");c?(a&&(c.type=a),k.extend(c.opts,b)):(c=new x(e,a,k.extend({},d.defaults[a],e.data("peity"),b)),e.change(function(){c.draw()}).data("_peity",c));c.draw()});return this},x=function(a,b,e){this.$el=a;this.type=b;this.opts=e},o=x.prototype,q=o.svgElement=function(a,b){return k(w.createElementNS("http://www.w3.org/2000/svg",a)).attr(b)},y="createElementNS"in w&&q("svg",{})[0].createSVGRect;o.draw=function(){var a=this.opts;d.graphers[this.type].call(this,a);a.after&&a.after.call(this,a)};o.fill=function(){var a=this.opts.fill;return k.isFunction(a)?a:function(b,e){return a[e%a.length]}};o.prepare=function(a,b){this.$svg||this.$el.hide().after(this.$svg=q("svg",{"class":"peity"}));return this.$svg.empty().data("peity",this).attr({height:b,width:a})};o.values=function(){return k.map(this.$el.text().split(this.opts.delimiter),function(a){return parseFloat(a)})};d.defaults={};d.graphers={};d.register=function(a,b,e){this.defaults[a]=b;this.graphers[a]=e};d.register("pie",{fill:["#ff9900","#fff4dd","#ffc66e"],radius:8},function(a){if(!a.delimiter){var b=this.$el.text().match(/[^0-9\.]/);a.delimiter=b?b[0]:","}b=k.map(this.values(),function(a){return 0<a?a:0});if("/"==a.delimiter)var e=b[0],b=[e,h.max(0,b[1]-e)];for(var c=0,e=b.length,t=0;c<e;c++)t+=b[c];t||(e=2,t=1,b=[0,1]);var l=2*a.radius,l=this.prepare(a.width||l,a.height||l),c=l.width(),f=l.height(),j=c/2,d=f/2,f=h.min(j,d),a=a.innerRadius;"donut"==this.type&&!a&&(a=0.5*f);for(var r=h.PI,s=this.fill(),g=this.scale=function(a,b){var c=a/t*r*2-r/2;return[b*h.cos(c)+j,b*h.sin(c)+d]},m=0,c=0;c<e;c++){var u=b[c],i=u/t;if(0!=i){if(1==i)if(a)var i=j-0.01,p=d-f,n=d-a,i=q("path",{d:["M",j,p,"A",f,f,0,1,1,i,p,"L",i,n,"A",a,a,0,1,0,j,n].join(" ")});else i=q("circle",{cx:j,cy:d,r:f});else p=m+u,n=["M"].concat(g(m,f),"A",f,f,0,0.5<i?1:0,1,g(p,f),"L"),a?n=n.concat(g(p,a),"A",a,a,0,0.5<i?1:0,0,g(m,a)):n.push(j,d),m+=u,i=q("path",{d:n.join(" ")});i.attr("fill",s.call(this,u,c,b));l.append(i)}}});d.register("donut",k.extend(!0,{},d.defaults.pie),function(a){d.graphers.pie.call(this,a)});d.register("line",{delimiter:",",fill:"#c6d9fd",height:16,min:0,stroke:"#4d89f9",strokeWidth:1,width:32},function(a){var b=this.values();1==b.length&&b.push(b[0]);for(var e=h.max.apply(h,a.max==v?b:b.concat(a.max)),c=h.min.apply(h,a.min==v?b:b.concat(a.min)),d=this.prepare(a.width,a.height),l=a.strokeWidth,f=d.width(),j=d.height()-l,k=e-c,e=this.x=function(a){return a*(f/(b.length-1))},r=this.y=function(a){var b=j;k&&(b-=(a-c)/k*j);return b+l/2},s=r(h.max(c,0)),g=[0,s],m=0;m<b.length;m++)g.push(e(m),r(b[m]));g.push(f,s);a.fill&&d.append(q("polygon",{fill:a.fill,points:g.join(" ")}));l&&d.append(q("polyline",{fill:"none",points:g.slice(2,g.length-2).join(" "),stroke:a.stroke,"stroke-width":l,"stroke-linecap":"square"}))});d.register("bar",{delimiter:",",fill:["#4D89F9"],height:16,min:0,padding:0.1,width:32},function(a){for(var b=this.values(),e=h.max.apply(h,a.max==v?b:b.concat(a.max)),c=h.min.apply(h,a.min==v?b:b.concat(a.min)),d=this.prepare(a.width,a.height),l=d.width(),f=d.height(),j=e-c,a=a.padding,k=this.fill(),r=this.x=function(a){return a*l/b.length},s=this.y=function(a){return f-(j?(a-c)/j*f:1)},g=0;g<b.length;g++){var m=r(g+a),u=r(g+1-a)-m,i=b[g],p=s(i),n=p,o;j?0>i?n=s(h.min(e,0)):p=s(h.max(c,0)):o=1;o=p-n;0==o&&(o=1,0<e&&j&&n--);d.append(q("rect",{fill:k.call(this,i,g,b),x:m,y:n,width:u,height:o}))}})})(jQuery,document,Math);;!function(a){a.fn.initial=function(b){var c=["#1abc9c","#16a085","#f1c40f","#f39c12","#2ecc71","#27ae60","#e67e22","#d35400","#3498db","#2980b9","#e74c3c","#c0392b","#9b59b6","#8e44ad","#bdc3c7","#34495e","#2c3e50","#95a5a6","#7f8c8d","#ec87bf","#d870ad","#f69785","#9ba37e","#b49255","#b49255","#a94136"];return this.each(function(){var d=a(this),e=a.extend({name:"Name",charCount:1,textColor:"#ffffff",height:100,width:100,fontSize:60,fontWeight:400,fontFamily:"HelveticaNeue-Light,Helvetica Neue Light,Helvetica Neue,Helvetica, Arial,Lucida Grande, sans-serif"},b);e=a.extend(e,d.data());var f=e.name.substr(0,e.charCount).toUpperCase(),g=a('<text text-anchor="middle"></text>').attr({y:"50%",x:"50%",dy:"0.35em","pointer-events":"auto",fill:e.textColor,"font-family":e.fontFamily}).html(f).css({"font-weight":e.fontWeight,"font-size":e.fontSize+"px"}),h=Math.floor((f.charCodeAt(0)-65)%c.length),i=a("<svg></svg>").attr({xmlns:"http://www.w3.org/2000/svg","pointer-events":"none",width:e.width,height:e.height}).css({"background-color":c[h],width:e.width+"px",height:e.height+"px"});i.append(g);var j=window.btoa(unescape(encodeURIComponent(a("<div>").append(i.clone()).html())));d.attr("src","data:image/svg+xml;base64,"+j)})}}(jQuery);;function ap_default(a,b){return"undefined"!=typeof a?a:b}function apLoadingDot(){i=0,setInterval(function(){jQuery(".ap-loading-dot").html(Array(++i%4+1).join("."))},300)}function apAjaxData(a){return a+="&action=ap_ajax"}function apQueryStringToJSON(a){var b=a.split("&"),c={};return b.forEach(function(a){a=a.split("="),c[a[0]]=encodeURIComponent(a[1]||"")}),JSON.parse(JSON.stringify(c))}function apGetValueFromStr(a,b){b=b.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var c=new RegExp("[\\?&]"+b+"=([^&#]*)"),d=c.exec(a);return null==d?!1:decodeURIComponent(d[1].replace(/\+/g," "))}function apCenterBox(a){var a=jQuery(a),b=a.parent();b.css({position:"relative"}),a.css("left",(b.width()-a.width())/2),a.css("top",(b.height()-a.height())/2)}function apIsJsonString(a){try{JSON.parse(a)}catch(b){return!1}return!0}function apLoadTemplate(a,b,c){c=c||!1,0===jQuery("#template-"+a).length?jQuery.get(b,function(b){jQuery('<script id="template-'+a+'" type="text/html">'+b+"</script>").appendTo("body"),jQuery(a).trigger(a,b),c&&c(b)}):c&&c(jQuery("#template-"+a).html())}function apParseAjaxResponse(a){if(apIsJsonString(a))return{};if(a=jQuery(a),"undefined"==typeof a.filter("#ap-response"))return console.log("Not a valid AnsPress ajax response."),{};var b=a.filter("#ap-response").html();return"undefined"!=typeof b&&b.length>2?JSON.parse(b):{}}function apCamelize(a){return a.replace(/(?:^\w|[A-Z]|\b\w)/g,function(a,b){return 0==b?a.toLowerCase():a.toUpperCase()}).replace(/\s+/g,"")}function apMergeObj(a,b){for(var c in b)try{b[c].constructor==Object?a[c]=MergeRecursive(a[c],b[c]):a[c]=b[c]}catch(d){a[c]=b[c]}return a}function apLaodAvatar(){jQuery("img[src*='ANSPRESS_AVATAR_SRC']").each(function(a,b){var c=jQuery(b).attr("src").replace("http://ANSPRESS_AVATAR_SRC::","");jQuery(b).initial({fontSize:30,fontWeight:600,name:c})})}!function(a){a.fn.aptip=function(b){function c(b){"undefined"!=typeof a(b).attr("title")&&(a(b).data("aptiptitle",a(b).attr("title")),a(b).removeAttr("title"))}function d(b){var c=a(window).height(),d=a(b).offset(),e=a(b).outerHeight(),g=a(b).outerWidth(),h=a(b).data("tipposition")||!1,i=f.position.split(/ +/);h&&(i=h.split(/ +/));var j="top";switch(i[0]){case"bottom":j=d.top+e+10;break;case"center":j=d.top+e/2-tip.outerHeight()/2;break;default:j=d.top-tip.outerHeight()-10}var k="right";switch(i[1]){case"left":k=d.left-g;break;case"center":k=d.left+g/2-tip.outerWidth()/2;break;default:k=d.left+g}tip.addClass("x-"+i[0]+" y-"+i[1]);var l=a(document).scrollTop();0>k&&(k=5),l>j&&(j=d.top+g);var m=a(window).scrollTop()+c-tip.outerHeight();j>m&&(j-=tip.outerHeight()),tip.css({overflow:"absolute",top:j,left:k}),tip.find(".arrow").css({top:j,left:k})}function e(b){var e=a(b),h=e.data("userid")||e.data("catid")||!1,i=(e.data("action")||!1,e.data("tipquery")||!1);if(h&&!i){var j=e.data("catid")||!1;j=j?"&type=cat":"",e.data("tipquery","action=ap_ajax&ap_ajax_action=hover_card&id="+h+j),i=e.data("tipquery")}if(i!==!1&&(f.ajax=i),c(b),""==f.title)var k=e.data("aptiptitle");else var k=f.title;if(0!=k.length){if(tip=a('<div class="ap-tooltip '+f.theme+'"><div class="ap-tooltip-in">'+k+"</div></div>"),""!=f.ajax&&!g.ajax_running)if(0==a(e.attr("data-ajax")).length&&0==a("#"+h+"_card").length)g.ajax_running=!0,a.ajax({type:"POST",url:ajaxurl,data:f.ajax+"&ap_ajax_nonce="+ap_nonce,success:function(c){var f=a(c),c={},h=f.filter("#ap-response").html();"undefined"!=typeof h&&h.length>2&&(c=JSON.parse(h)),c.apTemplate&&"object"==typeof c.apTemplate&&apLoadTemplate(c.apTemplate.name,c.apTemplate.template,function(f){var h=a(Ta.render(f,c.apData));console.log(h);var i=parseInt(a(".aptip-data").length);g.data_id="aptipd-"+(i+1),h.addClass("aptip-data "+g.data_id),e.attr("data-ajax","."+g.data_id),a("body").append(h.clone()),tip.find(".ap-tooltip-in").html(h.show()),d(b)}),g.ajax_running=!1}});else{var l=a("#"+h+"_card").html();tip.find(".ap-tooltip-in").html(a(l).show())}if(""!=f.before){var m=f.before;m(tip,b,function(){d(b)})}tip.appendTo("body"),d(b)}}var f=a.extend({theme:"",delay:"",title:"",before:"",ajax:"",position:"top center"},b);this.ajax_running=!1;var g=this;return this.each(function(){$this=a(this);var b=this;$this.mouseenter(function(){""!=f.delay?delay=setTimeout(function(){e(b)},f.delay):e(this)}).mouseleave(function(){"undefined"!=typeof tip&&tip.remove(),"undefined"!=typeof delay&&clearTimeout(delay)})}),this},a.fn.autogrow=function(b){function c(c){var d,e=a(this),f=e.innerHeight(),g=this.scrollHeight,h=e.data("autogrow-start-height")||0;if(g>f)this.scrollTop=0,b.animate?e.stop().animate({height:g},b.speed):e.innerHeight(g);else if(!c||8==c.which||46==c.which||c.ctrlKey&&88==c.which)if(f>h){d=e.clone().addClass(b.cloneClass).css({position:"absolute",zIndex:-10,height:""}).val(e.val()),e.after(d);do g=d[0].scrollHeight-1,d.innerHeight(g);while(g===d[0].scrollHeight);g++,d.remove(),e.focus(),h>g&&(g=h),f>g&&b.animate?e.stop().animate({height:g},b.speed):e.innerHeight(g)}else e.innerHeight(h)}var d=a(this).css({overflow:"hidden",resize:"none"}),e=d.selector,f={context:a(document),animate:!0,speed:50,fixMinHeight:!0,cloneClass:"autogrowclone",onInitialize:!1};return b=a.isPlainObject(b)?b:{context:b?b:a(document)},b=a.extend({},f,b),d.each(function(d,e){var f,g;e=a(e),e.is(":visible")||parseInt(e.css("height"),10)>0?f=parseInt(e.css("height"),10)||e.innerHeight():(g=e.clone().addClass(b.cloneClass).val(e.val()).css({position:"absolute",visibility:"hidden",display:"block"}),a("body").append(g),f=g.innerHeight(),g.remove()),b.fixMinHeight&&e.data("autogrow-start-height",f),e.css("height",f),b.onInitialize&&e.length&&c.call(e[0])}),b.context.on("keyup paste",e,c),d},a.fn.center=function(){return this.css({position:"fixed"}),a(window).height()>a(this).outerHeight()?this.css("top",Math.max(0,(a(window).height()-a(this).outerHeight())/2)+"px"):(this.css("top",50),this.css("height",a(window).height()-80)),this.css("left",Math.max(0,(a(window).width()-a(this).outerWidth())/2+a(window).scrollLeft())+"px"),this},a.fn.apAjaxQueryString=function(){var b=a(this).data("query").split("::"),c={};c.action="ap_ajax",c.ap_ajax_action=b[0],c.__nonce=b[1],c.args={};var d=0;return a.each(b,function(a){0!=a&&1!=a&&(c.args[d]=b[a],d++)}),c},a.fn.apGetSelector=function(){var b=a(this);return b.attr("id")?"#"+b.attr("id"):b.attr("secondary_id")?"[secondary_id="+b.attr("secondary_id")+"]":(a(b).attr("secondary_id",(new Date).getTime()),"[secondary_id="+b.attr("secondary_id")+"]")}}(jQuery);var Tangular={};Tangular.helpers={},Tangular.version="v1.5.2",Tangular.cache={},Tangular.debug=!1,Tangular.settings={delimiters:["{{","}}"]},Tangular.register=function(a,b){return Tangular.helpers[a]=b,Tangular},Tangular.compile=function(a){a||(a="");for(var b,c=-1,d=[],e=-1,f=0,g=a.length,h=0,i=Tangular.settings.delimiters[0].length;g>c++;){var j=a.substring(c,c+i);if(-1===e)if(j!==Tangular.settings.delimiters[0]);else{if(-1!==e){h++;continue}b=a.substring(f,c),d.push(b?'unescape("'+escape(b)+'")':'""'),e=c+i}else if(j===Tangular.settings.delimiters[1]){if(h>0){h--;continue}d.push(a.substring(e,c).trim()),f=c+i,e=-1;continue}}b=a.substring(f,g),d.push(b?'unescape("'+escape(b)+'")':'""'),g=d.length;for(var k="$output+=",l='var $s=this,$output="",$t,$v;',m=[],n=!1,o=0,p=0;g>p;p++)if(p%2!==0){var q=d[p],r=!1,c=q.lastIndexOf("|"),s=null,t=q.substring(0,3);"if "===t&&(q="if( "+q.substring(3)+"){",r=!0),"foreach "===q.substring(0,8)&&(s=q.split(" "),"var"===s[1]&&s.splice(1,1),m.push(s[1]),r=!0,n=!0,o++);var u=q.substring(0,5);if("endif"===u||"fi"===q?(q="}",r=!0):"else"===u?(q="} else {",r=!0):"else if"===q.substring(0,7)?(q="}else if( "+q.substring(8)+"){",r=!0):("end"===t||"endfor"===q.substring(0,6))&&(q=m.length?"}})()}":"}}",m.pop(),r=!0,o--,0===o&&(n=!1)),q=r?Tangular.append(q,m,n,"$s").trim():Tangular.helper(q,m,n,"$s"),r){if(s){var v=Tangular.append(s[3],m,n,"$s");q="if ("+v+"&&"+v+".length){(function(){for(var i=0,length="+v+".length;i<length;i++){var "+s[1]+"="+v+"[i];var $index=i;"}l+=q}else l+=k+q+";"}else l+=k+d[p]+";";var w=59===l.charCodeAt(l.length-1);return Tangular.debug&&(console.log("Tangular:"),console.log("function(helpers,$) {"+l+(w?"":";")+"return $output;"),console.log(a.trim()),console.log("---------------------------"),console.log("")),function(a,b){return new Function("helpers","$",l+(w?"":";")+"return $output;").call(a,function(a){var b=Tangular.helpers[a];return b?b:(console.warn('Tangular helper "'+a+'" not found.'),function(a){return void 0===a?"undefined":null===a?"null":a.toString()})},b)}},Tangular.helper=function(a,b,c){var d,e=a.indexOf("|");if(-1===e)return d=Tangular.append(a.trim(),b,c,"$s").trim(),'helpers("encode").call($s,'+d+")";d=Tangular.append(a.substring(0,e).trim(),b,c).trim(),a=a.substring(e+1).trim().split("|");for(var f="",g=0,h=a.length;h>g;g++){var i,j=a[g].trim().replace("()","");e=j.indexOf("("),-1===e?(i=j,j=".call($s,$t)"):(i=j.substring(0,e),j=".call($s,$t,"+j.substring(e+1)),j='$t=helpers("'+i+'")'+j,f+=j+";"}return'"";$t='+d+";"+f+"$output+=$t"},Tangular.append=function(a,b,c,d){return void 0===b&&(b=[]),a?a.replace(/[\_\$a-zá-žÁ-ŽA-Z0-9\s\.]+/g,function(a,c,e){var f=e.substring(c-1,c),g=!1,h=a.trim();switch(('"'===f||"'"===f||"."===f)&&(g=!0),a.trim()){case"else":case"end":case"endfor":case"endif":case"fi":case"foreach":case"if":case"else if":return a;case"$index":if(!g)return a}if(""===h)return"";if(g)return a;g=!1;for(var i=0,j=b.length;j>i;i++){var k=b[i].length;if(h.substring(0,k)===b[i]){if(h.length!==k){var f=h.substring(k,k+1);if("."!==f&&"+"!==f)continue}g=!0;break}}if("$"===h)return"Tangular.$wrap($)";if("$."===h.substring(0,2)&&(d="$",h=h.substring(2)),g)return h;f=h.substring(0,1);var l=f.charCodeAt(0);return l>47&&58>l?h:"Tangular.$wrap("+(d||"$s")+',"'+h+'")'}):"Tangular.$wrap("+(d||"$s")+")"},Tangular.$wrap=function(a,b,c){if(!a)return a;if(!b)return a;var d=Tangular.cache[b];if(null===d)return a[b];if(d||(d=b.split("."),Tangular.cache[b]=1===d.length?null:d),1===d.length)return a[b];for(var e=a,f=0,g=d.length;g>f;f++){var h=d[f];if(e=e[h],!e)return f+1===g?e:c}return e},Tangular.render=function(a,b,c){return(void 0===b||null===b)&&(b={}),"string"==typeof a&&(a=Tangular.compile(a)),a(b,c)},Tangular.register("encode",function(a){return(void 0===a||null===a)&&(a=""),a.toString().replace(/[<>&"]/g,function(a){switch(a){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;"}return a})}),Tangular.register("raw",function(a){return(void 0===a||null===a)&&(a=""),a}),"undefined"!=typeof global?global.Tangular=global.Ta=Tangular:"undefined"!=typeof window&&(window.Tangular||(window.Tangular=Tangular),window.Ta=Tangular),Ta.register("objLength",function(a){return Object.keys(a).length}),function(a){"object"==typeof exports?module.exports=a():"function"==typeof define&&define.amd?define(a):(window.WatchJS=a(),window.watch=window.WatchJS.watch,window.unwatch=window.WatchJS.unwatch,window.callWatchers=window.WatchJS.callWatchers)}(function(){function a(){v=null;for(var a=0;a<u.length;a++)u[a]();u.length=0}var b={noMore:!1,useDirtyCheck:!1},c=[],d=[],e=[],f=!1;try{f=Object.defineProperty&&Object.defineProperty({},"x",{})}catch(g){}var h=function(a){var b={};return a&&"[object Function]"==b.toString.call(a)},i=function(a){return"[object Array]"===Object.prototype.toString.call(a)},j=function(a){return"[object Object]"==={}.toString.apply(a)},k=function(a,b){var c=[],d=[];if("string"!=typeof a&&"string"!=typeof b){if(i(a))for(var e=0;e<a.length;e++)void 0===b[e]&&c.push(e);else for(e in a)a.hasOwnProperty(e)&&void 0===b[e]&&c.push(e);if(i(b))for(var f=0;f<b.length;f++)void 0===a[f]&&d.push(f);else for(f in b)b.hasOwnProperty(f)&&void 0===a[f]&&d.push(f)}return{added:c,removed:d}},l=function(a){if(null==a||"object"!=typeof a)return a;var b,c=a.constructor();for(b in a)c[b]=a[b];return c},m=function(a,b,c,d){try{Object.observe(a,function(a){a.forEach(function(a){a.name===b&&d(a.object[a.name])})})}catch(e){try{Object.defineProperty(a,b,{get:c,set:function(a){d.call(this,a,!0)},enumerable:!0,configurable:!0})}catch(f){try{Object.prototype.__defineGetter__.call(a,b,c),Object.prototype.__defineSetter__.call(a,b,function(a){d.call(this,a,!0)})}catch(g){o(a,b,d)}}}},n=function(a,b,c){try{Object.defineProperty(a,b,{enumerable:!1,configurable:!0,writable:!1,value:c})}catch(d){a[b]=c}},o=function(a,b,c){d[d.length]={prop:b,object:a,orig:l(a[b]),callback:c}},p=function(a,b,c,d){if("string"!=typeof a&&(a instanceof Object||i(a))){if(i(a)){if(A(a,"__watchall__",b,c),void 0===c||c>0)for(var e=0;e<a.length;e++)p(a[e],b,c,d)}else{var g=[];for(e in a)"$val"==e||!f&&"watchers"===e||Object.prototype.hasOwnProperty.call(a,e)&&g.push(e);q(a,g,b,c,d)}d&&K(a,"$$watchlengthsubjectroot",b,c)}},q=function(a,b,c,d,e){if("string"!=typeof a&&(a instanceof Object||i(a)))for(var f=0;f<b.length;f++)r(a,b[f],c,d,e)},r=function(a,b,c,d,e){"string"!=typeof a&&(a instanceof Object||i(a))&&!h(a[b])&&(null!=a[b]&&(void 0===d||d>0)&&p(a[b],c,void 0!==d?d-1:d),A(a,b,c,d),e&&(void 0===d||d>0)&&K(a,b,c,d))},s=function(a,b){if(!(a instanceof String)&&(a instanceof Object||i(a)))if(i(a)){for(var c=["__watchall__"],d=0;d<a.length;d++)c.push(d);t(a,c,b)}else{var e=function(a){var c,d=[];for(c in a)a.hasOwnProperty(c)&&(a[c]instanceof Object?e(a[c]):d.push(c));t(a,d,b)};e(a)}},t=function(a,b,c){for(var d in b)b.hasOwnProperty(d)&&F(a,b[d],c)},u=[],v=null,w=function(){return v||(v=setTimeout(a)),v},x=function(a){null==v&&w(),u[u.length]=a},y=function(a,b,c,d){var e=null,f=-1,g=i(a);p(a,function(c,d,h,i){var j=w();if(f!==j&&(f=j,e={type:"update"},e.value=a,e.splices=null,x(function(){b.call(this,e),e=null})),g&&a===this&&null!==e){if("pop"===d||"shift"===d)h=[],i=[i];else if("push"===d||"unshift"===d)h=[h],i=[];else if("splice"!==d)return;e.splices||(e.splices=[]),e.splices[e.splices.length]={index:c,deleteCount:i?i.length:0,addedCount:h?h.length:0,added:h,deleted:i}}},1==c?void 0:0,d)},z=function(a,b,c,d,e){a&&b&&(r(a,b,function(a,b,f,g){a={type:"update"},a.value=f,a.oldvalue=g,(d&&j(f)||i(f))&&y(f,c,d,e),c.call(this,a)},0),(d&&j(a[b])||i(a[b]))&&y(a[b],c,d,e))},A=function(a,c,d,e){var f=!1,g=i(a);for(a.watchers||(n(a,"watchers",{}),g&&E(a,function(b,d,f,g){if(I(a,b,d,f,g),0!==e&&f&&(j(f)||i(f))){var h,k;for(b=a.watchers[c],(g=a.watchers.__watchall__)&&(b=b?b.concat(g):g),k=b?b.length:0,g=0;k>g;g++)if("splice"!==d)p(f,b[g],void 0===e?e:e-1);else for(h=0;h<f.length;h++)p(f[h],b[g],void 0===e?e:e-1)}})),a.watchers[c]||(a.watchers[c]=[],g||(f=!0)),g=0;g<a.watchers[c].length;g++)if(a.watchers[c][g]===d)return;if(a.watchers[c].push(d),f){var h=a[c];d=function(){return h},f=function(d,f){var g=h;if(h=d,0!==e&&a[c]&&(j(a[c])||i(a[c]))&&!a[c].watchers){var k,l=a.watchers[c].length;for(k=0;l>k;k++)p(a[c],a.watchers[c][k],void 0===e?e:e-1)}a.watchers&&(a.watchers.__wjs_suspend__||a.watchers["__wjs_suspend__"+c])?G(a,c):b.noMore||g===d||(f?I(a,c,"set",d,g):B(a,c,"set",d,g),b.noMore=!1)},b.useDirtyCheck?o(a,c,f):m(a,c,d,f)}},B=function(a,b,c,d,e){if(void 0!==b){var f,g=a.watchers[b];(f=a.watchers.__watchall__)&&(g=g?g.concat(f):f),f=g?g.length:0;for(var h=0;f>h;h++)g[h].call(a,b,c,d,e)}else for(b in a)a.hasOwnProperty(b)&&B(a,b,c,d,e)},C="pop push reverse shift sort slice unshift splice".split(" "),D=function(a,b,c,d){n(a,c,function(){var e,f,g,h=0;if("splice"===c){for(g=arguments[0],f=a.slice(g,g+arguments[1]),e=[],h=2;h<arguments.length;h++)e[h-2]=arguments[h];h=g}else e=0<arguments.length?arguments[0]:void 0;return g=b.apply(a,arguments),"slice"!==c&&("pop"===c?(f=g,h=a.length):"push"===c?h=a.length-1:"shift"===c?f=g:"unshift"!==c&&void 0===e&&(e=g),d.call(a,h,c,e,f)),g})},E=function(a,b){if(h(b)&&a&&!(a instanceof String)&&i(a))for(var c,d=C.length;d--;)c=C[d],D(a,a[c],c,b)},F=function(a,b,e){if(void 0===e&&a.watchers[b])delete a.watchers[b];else for(var f=0;f<a.watchers[b].length;f++)a.watchers[b][f]==e&&a.watchers[b].splice(f,1);for(f=0;f<c.length;f++){var g=c[f];g.obj==a&&g.prop==b&&g.watcher==e&&c.splice(f,1)}for(e=0;e<d.length;e++)f=d[e],g=f.object.watchers,(f=f.object==a&&f.prop==b&&g&&(!g[b]||0==g[b].length))&&d.splice(e,1)},G=function(a,b){x(function(){delete a.watchers.__wjs_suspend__,delete a.watchers["__wjs_suspend__"+b]})},H=null,I=function(a,b,c,d,f){e[e.length]={obj:a,prop:b,mode:c,newval:d,oldval:f},null===H&&(H=setTimeout(J))},J=function(){var a=null;H=null;for(var b=0;b<e.length;b++)a=e[b],B(a.obj,a.prop,a.mode,a.newval,a.oldval);a&&(e=[])},K=function(a,b,d,e){var f;f=l("$$watchlengthsubjectroot"===b?a:a[b]),c.push({obj:a,prop:b,actual:f,watcher:d,level:e})};return setInterval(function(){for(var a=0;a<c.length;a++){var b=c[a];if("$$watchlengthsubjectroot"===b.prop){var e=k(b.obj,b.actual);(e.added.length||e.removed.length)&&(e.added.length&&q(b.obj,e.added,b.watcher,b.level-1,!0),b.watcher.call(b.obj,"root","differentattr",e,b.actual)),b.actual=l(b.obj)}else{if(e=k(b.obj[b.prop],b.actual),e.added.length||e.removed.length){if(e.added.length)for(var g=0;g<b.obj.watchers[b.prop].length;g++)q(b.obj[b.prop],e.added,b.obj.watchers[b.prop][g],b.level-1,!0);B(b.obj,b.prop,"differentattr",e,b.actual)}b.actual=l(b.obj[b.prop])}}for(a in d){var b=d[a],e=b.object[b.prop],g=b.orig,h=e,i=void 0,m=!0;if(g!==h)if(j(g)){for(i in g)if((f||"watchers"!==i)&&g[i]!==h[i]){m=!1;break}}else m=!1;m||(b.orig=l(e),b.callback(e))}},50),b.watch=function(){h(arguments[1])?p.apply(this,arguments):i(arguments[1])?q.apply(this,arguments):r.apply(this,arguments)},b.unwatch=function(){h(arguments[1])?s.apply(this,arguments):i(arguments[1])?t.apply(this,arguments):F.apply(this,arguments)},b.callWatchers=B,b.suspend=function(a,b){a.watchers&&(a.watchers["__wjs_suspend__"+(void 0!==b?b:"")]=!0)},b.onChange=function(){(h(arguments[2])?z:y).apply(this,arguments)},b});var apObjectWatching={};;function apAutloadTemplate(a){return"undefined"!=typeof a.disableAutoLoad&&a.disableAutoLoad}var apData={};!function(a){apFunctions={},a(function(){AnsPress.site=new AnsPress.site,AnsPress.site.initialize()}),window.AnsPress={},AnsPress.site=function(){},AnsPress.site.prototype={initialize:function(){ApSite=this,this.ajax_id=new Object,this.loading=new Object,this.errors,this.ajaxData,this.appendFormError(),this.appendMessageBox(),this.ajaxBtn(),this.saveComment(),this.afterPostingAnswer(),this.ap_ajax_form(),this.deleteComment(),this.editComment(),this.vote(),this.select_answer(),this.ap_delete_post(),this.ap_upload_field(),this.avatarUploadCallback(),this.load_profile_field(),this.ap_post_upload_field(),this.tinyMCEeditorToggle(),this.tab(),this.set_featured(),this.modal(),this.expand(),this.follow(),this.updateCover(),this.hoverCard(),this.delete_notification(),this.mark_as_read(),this.cancel_comment(),this.questionSuggestion(),this.checkboxUncheck(),this.listFilter()},doAjax:function(b,c,d,e,f){d=d||!1,c=c||!1,e=e||!1,f=f||!1;var g=apGetValueFromStr(b,"ap_ajax_action");f&&"undefined"!=typeof ApSite.ajax_id[g]&&ApSite.ajax_id[g].abort();var h=a.ajax({type:"POST",url:ajaxurl,data:b,beforeSend:function(){d&&ApSite.showLoading(d),"function"==typeof e&&e()},success:function(b){ApSite.hideLoading(d);var e=apParseAjaxResponse(b);"function"==typeof c&&(b=a.isEmptyObject(e)?b:e,c(b,d))},context:d,cache:!1});return ApSite.ajax_id[g]=h,h},doAction:function(b){var c=this,b="undefined"!=typeof b?'[data-action="'+b+'"]':"[data-action]",d=new Object;a(b).each(function(b){var e=a(this).attr("data-action");"undefined"==typeof d[e]&&(d[e]="1",c[e]('[data-action="'+e+'"]'))})},uniqueId:function(){return a(".ap-uid").length},showLoading:function(b){AnsPress.site.hideLoading(b);var c=a(b).data("loadclass")||"",d=this.uniqueId(),e=a('<div class="ap-loading-icon ap-uid '+c+'" id="apuid-'+d+'"><i class="apicon-sync"><i></div>');a("body").append(e);var f=a(b).offset(),g=a(b).outerHeight(),h=a(b).outerWidth();return e.css({top:f.top,left:f.left,height:g,width:h}),a(b).data("loading","#apuid-"+d),"#apuid-"+d},hideLoading:function(b){"all"==b?a(".ap-loading-icon").hide():a(a(b).data("loading")).hide()},ap_ajax_form:function(){a("body").delegate('[data-action="ap_ajax_form"]',"submit",function(){if(AnsPress.site.showLoading(this),ApSite.clearFormErrors(a(this).attr("id")),a(this).is("[data-before]")){var b=a(this).data("before");if("function"==typeof ApSite[b]&&!1===ApSite[b](this))return!1}return a(this).append('<input type="hidden" name="ap_ajax_action" value="'+a(this).attr("name")+'">'),a(this).append('<input type="hidden" name="action" value="ap_ajax">'),"undefined"!=typeof tinyMCE&&tinyMCE.triggerSave(),a(this).ajaxSubmit({type:"POST",url:ajaxurl,success:function(a){AnsPress.site.hideLoading(this),"undefined"!=typeof tinyMCE&&"undefined"!=typeof a.type&&"success"==a.type&&tinyMCE.activeEditor.setContent("")},error:function(a,b,c){console.log(c),AnsPress.site.hideLoading(this)},dataType:"html",context:this,global:!0,cache:!1}),!1})},appendFormError:function(){a(document).on("ap_after_ajax",function(b,c){"undefined"!=typeof c&&"undefined"!=typeof c.errors&&(ApSite.clearFormErrors(c.form),a.each(c.errors,function(b,d){var e=a("#"+c.form).find("#"+b).closest(".ap-form-fields");e.addClass("ap-have-error"),ApSite.helpBlock(e,d)}))})},helpBlock:function(b,c){a(b).find(".ap-form-error-message").length>0&&a(b).find(".ap-form-error-message").remove(),a(b).append('<p class="ap-form-error-message">'+c+"</p>")},clearFormErrors:function(b){var c=a("#"+b).find(".ap-have-error");c.find(".ap-form-error-message").remove(),c.removeClass("ap-have-error")},appendMessageBox:function(){"0"==a("#ap-notify").length&&a("body").append('<div id="ap-notify"></div>')},addMessage:function(b,c){var d=aplang[c];a('<div class="ap-notify-item '+c+'"><i class="'+d+'"></i><div class="ap-notify-content">'+b+"</div></div>").appendTo("#ap-notify").animate({"margin-left":0},500).delay(2e3).fadeOut(200)},redirect:function(a){"undefined"!=typeof a&&window.location.replace(a)},reload:function(a){location.reload()},append:function(b){"undefined"!=typeof b.container&&a(b.container).append(b.html)},updateText:function(b,c){""!=c&&a(b).text(c)},replaceWith:function(b,c){a(b).replaceWith(c)},updateHtml:function(b,c){"undefined"!=typeof c.html&&a(b).html(c.html)},toggle_active_class:function(b,c){"undefined"!=typeof b&&(a(b).find("li").removeClass("active"),a(b).find(c).addClass("active"),a(b).toggleClass("active"))},removeClass:function(b,c){a(b).length>0&&a(b).removeClass(c)},addClass:function(b,c,d){b="context"===b?d:b,a(b).length>0&&a(b).addClass(c)},append_before:function(b,c){"undefined"!=typeof b&&a(b).before(c.html)},remove_if_exists:function(b,c,d){console.log(d),b="context"===b?d:b,"undefined"!=typeof b&&a(b).length>0&&a(b).remove()},clearForm:function(a){"undefined"!=typeof tinyMCE&&tinyMCE.activeEditor.setContent("")},scrollToCommentForm:function(){a("#ap-commentform").length>0&&a("html, body").animate({scrollTop:a("#ap-commentform").offset().top-150},500)},ajaxBtn:function(){a("body").delegate('[data-action="ajax_btn"]',"click",function(b){if(!a(this).is(".ajax-disabled")){b.preventDefault();var c=a(this).apAjaxQueryString();ApSite.doAjax(c,function(b,c){if(a(c).data("cb")){var d=a(c).data("cb");console.log(apFunctions[d]),"function"==typeof apFunctions[d]&&apFunctions[d](b,c)}},this)}})},saveComment:function(){a("body").delegate("#ap-commentform","submit",function(){"undefined"!=typeof tinyMCE&&tinyMCE.triggerSave();var b=a(this);return ApSite.doAjax(apAjaxData(b.formSerialize()),function(b){ApSite.hideLoading(this),apData[b.key]=b.apData,a('a[href="#comments-'+b.comment_post_ID+'"]').removeClass("loaded")},this),!1})},deleteComment:function(){a("body").delegate('[data-action="deleteComment"]',"click",function(b){b.preventDefault();var c=a(this),d=c.attr("data-query");ApSite.doAjax(apAjaxData(d),function(a){apData[a.key]=a.apData},this,!1,!0)})},editComment:function(){a("body").delegate('[data-action="editComment"]',"click",function(b){b.preventDefault();var c=a(this),d=c.attr("data-query");ApSite.doAjax(apAjaxData(d),function(a){},this,!1,!0)})},ap_subscribe:function(){a('[data-action="ap_subscribe"]').click(function(b){b.preventDefault();var c=a(this).attr("data-query");ApSite.doAjax(apAjaxData(c),function(b){AnsPress.site.hideLoading(this),"subscribed"==b.action?(a(this).addClass("active"),a(this).closest(".ap-subscribe").addClass("active")):(a(this).removeClass("active"),a(this).closest(".ap-subscribe").removeClass("active"))},this,function(){a(this).closest(".ap-subscribe").toggleClass("active")})})},vote:function(){a("body").delegate('[data-action="vote"] a',"click",function(b){b.preventDefault();var c=a(this).attr("data-query"),d=a(this);ApSite.doAjax(apAjaxData(c),function(a){var b=d.parent();b.find(".ap-vote-fade").remove(),("undefined"!=typeof a.action&&"voted"==a.action||"undo"==a.action)&&("voted"==a.action?(d.addClass("voted"),"vote_up"==a.type&&b.find(".vote-down").addClass("disable"),"vote_down"==a.type&&b.find(".vote-up").addClass("disable"),d.trigger("voted",a)):"undo"==a.action&&(d.removeClass("voted"),"vote_up"==a.type&&b.find(".vote-down").removeClass("disable"),"vote_down"==a.type&&b.find(".vote-up").removeClass("disable"),d.trigger("undo_vote",a)),b.find(".net-vote-count").text(a.count))},this,!1)})},afterPostingAnswer:function(){a(document).on("ap_after_ajax",function(b,c){"undefined"!=typeof c&&"undefined"!=typeof c.action&&"new_answer"==c.action&&(a("#description").val(""),0===a("#answers").length?(a("#question").after(a(c.html)),a(c.div_id).hide(),a(c.div_id).slideDown(500)):(a("#answers").append(a(c.html).hide()),a(c.div_id).slideDown(500)))})},select_answer:function(){a("body").delegate('[data-action="select_answer"]',"click",function(b){b.preventDefault();var c=a(this).attr("data-query");ApSite.doAjax(apAjaxData(c),!1,this)})},ap_delete_post:function(){a("#anspress").delegate('[data-action="ap_delete_post"]',"click",function(b){b.preventDefault();var c=a(this).attr("data-query");ApSite.doAjax(apAjaxData(c),function(b){"undefined"!=typeof b.action&&"delete_answer"==b.action&&a(b.div_id).slideUp(500).fadeOut(300,function(){a(this).remove()})},this,!1)})},ap_upload_field:function(){a('[data-action="ap_upload_field"]').change(function(){a(this).closest("form").submit()}),a('[data-action="ap_upload_form"]').submit(function(){var b=this;return a(this).ajaxSubmit({success:function(b){b=a(b),b=JSON.parse(b.filter("#ap-response").html()),a("body").trigger("uploadForm",[b,this])},url:ajaxurl,context:b}),!1})},avatarUploadCallback:function(){a(document).on("uploadForm",function(b,c,d){if("undefined"!=typeof c.action&&"avatar_uploaded"===c.action){var e=a(c.html).attr("src");a(d).prev().attr("src",e)}})},load_profile_field:function(){a("body").delegate('[data-action="ap_load_user_field_form"]',"click",function(b){b.preventDefault();var c=a(this).attr("data-query");ApSite.doAjax(apAjaxData(c),function(a){AnsPress.site.hideLoading(this)},this,!1)})},ap_post_upload_field:function(){a("body").on("click",'[data-action="ap_post_upload_field"]',function(b){b.preventDefault(),a('input[name="post_upload_image"]').trigger("click")}),a("body").delegate('[name="post_upload_image"]',"change",function(b){a("#hidden-post-upload").submit()}),a("body").delegate("#hidden-post-upload","submit",function(){var b=a('[data-action="ap_post_upload_field"]').closest(".ap-upload-o");return a(this).ajaxSubmit({beforeSubmit:function(){ApSite.showLoading(b)},success:function(c){if(ApSite.hideLoading(b),c=a(c),c=JSON.parse(c.filter("#ap-response").html()),a("body").trigger("postUploadForm",c),"undefined"!=typeof c.url){if(c.mime.indexOf("image")>-1){var d='<img src="'+c.url+'" />';ApSite.addImageInEditor(d)}var d='<span id="'+c.attachment_id+'"><i class="apicon-cloud-upload"></i><a href="'+c.url+'">'+c.name+'</a><i class="close" data-action="ajax_btn" data-query="delete_attachment::'+ap_nonce+"::"+c.attachment_id+'">&times;</i></span>';a(d).appendTo("#ap-upload-list"),a(".ap-post-upload-form").append('<input type="hidden" name="attachment_ids[]" value="'+c.attachment_id+'" />')}},url:ajaxurl,type:"POST"}),!1}),a("body").delegate('.ap-upload-remote-link, [data-action="post_image_close"]',"click",function(b){b.preventDefault(),a(".ap-upload-link-rc").toggle()}),a("body").delegate('[data-action="post_image_ok"]',"click",function(b){b.preventDefault(),a(".ap-upload-link-rc").toggle(),""!=a(this).prev().val()&&ApSite.addImageInEditor('<img src="'+a(this).prev().val()+'" />')})},addImageInEditor:function(b){"undefined"!=typeof tinyMCE?tinyMCE.activeEditor.execCommand("mceInsertContent",!1,b):a(".wp-editor-area").val(a(".wp-editor-area").val()+b)},previewLocalImage:function(a){if(a.files&&a.files[0]){var b=new FileReader;b.onload=function(a){ApSite.addImageInEditor('<img src="'+a.target.result+'" />')},b.readAsDataURL(a.files[0])}},tinyMCEeditorToggle:function(){a("body").delegate('[data-action="ap_fullscreen_toggle"]',"click",function(b){b.preventDefault(),a(this).toggleClass("active"),tinyMCE.activeEditor.execCommand("mceFullscreen")})},tab:function(){a("body").delegate(".ap-tab-nav a","click",function(b){b.preventDefault();var c=a(this).attr("href");a(".ap-tab-container > *").removeClass("active"),a(".ap-tab-nav >li").removeClass("active"),a(this).parent().addClass("active"),a(c).toggleClass("active")})},set_featured:function(){a("body").delegate('[data-action="set_featured"]',"click",function(b){b.preventDefault();var c=(a(this).closest("ul").prev(),a(this).attr("data-query"));ApSite.doAjax(apAjaxData(c),function(a){},this,!1,!0)})},modal:function(){a("body").delegate('[data-action="ap_modal"]',"click",function(b){b.preventDefault();var c=a(a(this).data("toggle"));c.addClass("open");var d=c.find(".ap-modal-inner"),e=d.width(),f=d.height(),g=a(window).width(),h=a(window).height();d.css({left:(g-e)/2,top:h/2-f/2})}),a("body").delegate('[data-action="ap_modal_close"]',"click",function(b){a(".ap-modal").removeClass("open")})},expand:function(){a("body").delegate('[data-action="ap_expand"]',"click",function(b){b.preventDefault();var c=a(this).data("expand"),d=a(c).parent();a(d).animate({height:a(c).height()}),a(this).hide()})},follow:function(){a("body").delegate('[data-action="ap_follow"]',"click",function(b){b.preventDefault();var c=a(this).attr("data-query");ApSite.doAjax(apAjaxData(c),function(b){AnsPress.site.hideLoading(this),"follow"==b.action?a(this).addClass("active"):a(this).removeClass("active")},this,function(){a(this).toggleClass("active")})})},updateCover:function(){a(document).on("uploadForm",function(b,c){"undefined"!=typeof c.action&&"cover_uploaded"===c.action&&a('[data-view="user_cover_'+c.user_id+'"]').css({"background-image":"url("+c.image+")"})})},hoverCard:function(){disable_hover_card||a("[data-userid], [data-catid]").aptip({theme:"ap-hover-card",interactive:!0,delay:500,position:"bottom right",title:'<div class="hovercard-loading-bg"></div>'})},delete_notification:function(){a("body").delegate('[data-action="ap_delete_notification"]',"click",function(b){b.preventDefault();var c=a(this).attr("data-query");ApSite.doAjax(apAjaxData(c),function(b){AnsPress.site.hideLoading(this),"undefined"!=typeof b.container&&a(b.container).slideUp("400",function(){a(b.container).remove()})},this)})},mark_as_read:function(){a("body").delegate('[data-action="ap_markread_notification"]',"click",function(b){b.preventDefault();var c=a(this).attr("data-query");ApSite.doAjax(apAjaxData(c),function(a){AnsPress.site.hideLoading(this)},this)}),a(document).on("ap_after_ajax",function(b,c){"undefined"!=typeof c.action&&("mark_read_notification"===c.action?(a(c.container).removeClass("unread"),a(c.container).find(".ap-btn-markread").remove()):"mark_all_read"===c.action&&(a(".ap-notification-item").removeClass("unread"),a(".ap-notification-item").find(".ap-btn-markread").remove()))})},cancel_comment:function(){a("body").delegate('[data-action="cancel-comment"]',"click",function(b){b.preventDefault();var c=a(this).data("id");a('[href="#comments-'+c+'"]').removeClass("loaded"),a(this).closest(".ap-comment-form").remove()})},questionSuggestion:function(){if(!disable_q_suggestion){var b=null;a('[data-action="suggest_similar_questions"]').on("keyup",function(){var c=a(this).val(),d=this;0!=c.length&&(null!=b&&clearTimeout(b),b=setTimeout(function(){b=null,ApSite.doAjax(apAjaxData("action=ap_ajax&ap_ajax_action=suggest_similar_questions&ap_ajax_nonce="+ap_nonce+"&value="+c),function(b){console.log(b),a("#similar_suggestions").html(b.html)},d,!1,!0)},500))})}},notificationAsRead:function(){},checkboxUncheck:function(){a('#anspress input[type="checkbox"]').click(function(){var b=a(this).attr("name");a(this).is(":checked")?a('input[name="'+b+'"][type="hidden"]').attr("name","_hidden_"+b):a('input[name="_hidden_'+b+'"]').attr("name",b)})},listFilter:function(){a("body").delegate('[data-action="load_filter"]',"click",function(b){if(!a(this).is(".ajax-disabled")){b.preventDefault();var c=a(this).apAjaxQueryString();c.current_filter=a("#current_filter").html(),ApSite.doAjax(c,function(b,c){if(a(c).data("cb")){var d=a(c).data("cb");console.log(apFunctions[d]),"function"==typeof apFunctions[d]&&apFunctions[d](b,c)}},this)}}),a("body").delegate("#ap-filter .ap-dropdown-menu a","click",function(b){b.preventDefault();var c=a(this).closest(".ap-dropdown-menu"),d=c.data("key"),e=a(this).data("value")||!1;if(e){var f=c.data("multiple");f?c.find('input[name="ap_filter['+d+'][]"][value="'+e+'"]').length>0?c.find('input[name="ap_filter['+d+'][]"][value="'+e+'"]').remove():c.append('<input value="'+e+'" type="hidden" name="ap_filter['+d+'][]" />'):c.find('input[type="hidden"]').val(e),a(this).closest("form").submit()}}),a("body").delegate("#ap-question-sorting-reset","click",function(b){b.preventDefault(),a("#ap-filters").find('input[type="hidden"]').val(""),a(this).closest("form").submit()});var b=0;a("body").delegate(".ap-filter-search","keyup",function(c){var d=a(this).val();a(this).data("query","filter_search::"+ap_nonce+"::"+d);var e=(a(this).apAjaxQueryString(),a(this).closest(".ap-dropdown-menu").data("key"));clearTimeout(b),b=setTimeout(function(){a.ajax({url:ajaxurl,type:"POST",data:{action:"ap_ajax",ap_ajax_action:"filter_search",__nonce:ap_nonce,val:d,filter:e},success:function(a){a=apParseAjaxResponse(a),a.apData&&apMergeObj(apData[e+"Filter"],a.apData)}})},500)}),a("body").delegate("#ap-question-sorting","submit",function(){AnsPress.site.showLoading(this);var b=a(this).serialize().replace(/[^&]+=&/g,"").replace(/&[^&]+=$/g,"");return a.ajax({type:"GET",dataType:"html",data:b,success:function(c){AnsPress.site.hideLoading("#ap-question-sorting");var d=a(c);window.history.replaceState("","","?"+b),a("#anspress").html(d.find("#anspress")),a(document).trigger("apAfterSorting")}}),!1})}}}(jQuery),function(a){function b(a,b,c,d){c=c||"",d=d||"","function"==typeof ApSite[a]&&("object"==typeof b?(b.push(d),ApSite[a].apply(ApSite,b)):ApSite[a](b,c,d))}a(document).ajaxComplete(function(c,d,e){var f=apParseAjaxResponse(d.responseText);if(!a.isEmptyObject(f)){if(console.log(f),f.apTemplate&&"object"==typeof f.apTemplate&&!apAutloadTemplate(f)&&apLoadTemplate(f.apTemplate.name,f.apTemplate.template,function(b){if(f.apData&&f.key){var c="undefined"==typeof apData[f.key];apData[f.key]=f.apData;var d=function(){console.log(f.key+" changed");var c=a(Ta.render(b,apData[f.key]));a(apObjectWatching[f.key]).replaceWith(c),apLaodAvatar(),apObjectWatching[f.key]=c.apGetSelector()};if("undefined"==typeof apObjectWatching[f.key]&&c){console.log("Watching object "+f.key+" for change."),watch(apData,f.key,d),apObjectWatching[f.key]=!0;var e=a(Ta.render(b,f.apData));a(f.appendTo).append(e),apLaodAvatar(),apObjectWatching[f.key]=e.apGetSelector()}}}),"undefined"!=typeof f.message_type&&(""!=f.message_type&&""!=f.message&&ApSite.addMessage(f.message,f.message_type),"undefined"!=typeof grecaptcha&&"success"!==f.message_type&&grecaptcha.reset(widgetId1),a(document).trigger("ap_after_ajax",f),AnsPress.site.hideLoading("all")),"undefined"!=typeof f["do"]){var g=f["do"];"object"==typeof g?a.each(g,function(c,d){"function"==typeof ApSite[c]?b(c,d,f,e.context):"object"==typeof d&&a.each(d,function(a,c){"undefined"!=typeof c.action&&"function"==typeof ApSite[c.action]&&b(c.action,c.args,f,e.context)})}):"function"==typeof ApSite[g]&&ApSite[g](f,e.context)}"undefined"!=typeof f&&"undefined"!=typeof f.is_ap_ajax&&"undefined"!=typeof f.view&&a.each(f.view,function(b,c){try{var d=a(c)}catch(e){}"undefined"!=typeof f.view_html&&"undefined"!=typeof d&&d.is('[data-view="'+b+'"]')?(d=d.children(),a('[data-view="'+b+'"]').html(d)):(a('[data-view="'+b+'"]').text(c),a('[data-view="'+b+'"]').removeClass("ap-view-count-0"))})}})}(jQuery);;!function(a){a.fn.initial=function(b){var c=["#1abc9c","#16a085","#f1c40f","#f39c12","#2ecc71","#27ae60","#e67e22","#d35400","#3498db","#2980b9","#e74c3c","#c0392b","#9b59b6","#8e44ad","#bdc3c7","#34495e","#2c3e50","#95a5a6","#7f8c8d","#ec87bf","#d870ad","#f69785","#9ba37e","#b49255","#b49255","#a94136"];return this.each(function(){var d=a(this),e=a.extend({name:"Name",charCount:1,textColor:"#ffffff",height:100,width:100,fontSize:60,fontWeight:400,fontFamily:"HelveticaNeue-Light,Helvetica Neue Light,Helvetica Neue,Helvetica, Arial,Lucida Grande, sans-serif"},b);e=a.extend(e,d.data());var f=e.name.substr(0,e.charCount).toUpperCase(),g=a('<text text-anchor="middle"></text>').attr({y:"50%",x:"50%",dy:"0.35em","pointer-events":"auto",fill:e.textColor,"font-family":e.fontFamily}).html(f).css({"font-weight":e.fontWeight,"font-size":e.fontSize+"px"}),h=Math.floor((f.charCodeAt(0)-65)%c.length),i=a("<svg></svg>").attr({xmlns:"http://www.w3.org/2000/svg","pointer-events":"none",width:e.width,height:e.height}).css({"background-color":c[h],width:e.width+"px",height:e.height+"px"});i.append(g);var j=window.btoa(unescape(encodeURIComponent(a("<div>").append(i.clone()).html())));d.attr("src","data:image/svg+xml;base64,"+j)})}}(jQuery);;(function(k,w,h,v){var d=k.fn.peity=function(a,b){y&&this.each(function(){var e=k(this),c=e.data("_peity");c?(a&&(c.type=a),k.extend(c.opts,b)):(c=new x(e,a,k.extend({},d.defaults[a],e.data("peity"),b)),e.change(function(){c.draw()}).data("_peity",c));c.draw()});return this},x=function(a,b,e){this.$el=a;this.type=b;this.opts=e},o=x.prototype,q=o.svgElement=function(a,b){return k(w.createElementNS("http://www.w3.org/2000/svg",a)).attr(b)},y="createElementNS"in w&&q("svg",{})[0].createSVGRect;o.draw=function(){var a=this.opts;d.graphers[this.type].call(this,a);a.after&&a.after.call(this,a)};o.fill=function(){var a=this.opts.fill;return k.isFunction(a)?a:function(b,e){return a[e%a.length]}};o.prepare=function(a,b){this.$svg||this.$el.hide().after(this.$svg=q("svg",{"class":"peity"}));return this.$svg.empty().data("peity",this).attr({height:b,width:a})};o.values=function(){return k.map(this.$el.text().split(this.opts.delimiter),function(a){return parseFloat(a)})};d.defaults={};d.graphers={};d.register=function(a,b,e){this.defaults[a]=b;this.graphers[a]=e};d.register("pie",{fill:["#ff9900","#fff4dd","#ffc66e"],radius:8},function(a){if(!a.delimiter){var b=this.$el.text().match(/[^0-9\.]/);a.delimiter=b?b[0]:","}b=k.map(this.values(),function(a){return 0<a?a:0});if("/"==a.delimiter)var e=b[0],b=[e,h.max(0,b[1]-e)];for(var c=0,e=b.length,t=0;c<e;c++)t+=b[c];t||(e=2,t=1,b=[0,1]);var l=2*a.radius,l=this.prepare(a.width||l,a.height||l),c=l.width(),f=l.height(),j=c/2,d=f/2,f=h.min(j,d),a=a.innerRadius;"donut"==this.type&&!a&&(a=0.5*f);for(var r=h.PI,s=this.fill(),g=this.scale=function(a,b){var c=a/t*r*2-r/2;return[b*h.cos(c)+j,b*h.sin(c)+d]},m=0,c=0;c<e;c++){var u=b[c],i=u/t;if(0!=i){if(1==i)if(a)var i=j-0.01,p=d-f,n=d-a,i=q("path",{d:["M",j,p,"A",f,f,0,1,1,i,p,"L",i,n,"A",a,a,0,1,0,j,n].join(" ")});else i=q("circle",{cx:j,cy:d,r:f});else p=m+u,n=["M"].concat(g(m,f),"A",f,f,0,0.5<i?1:0,1,g(p,f),"L"),a?n=n.concat(g(p,a),"A",a,a,0,0.5<i?1:0,0,g(m,a)):n.push(j,d),m+=u,i=q("path",{d:n.join(" ")});i.attr("fill",s.call(this,u,c,b));l.append(i)}}});d.register("donut",k.extend(!0,{},d.defaults.pie),function(a){d.graphers.pie.call(this,a)});d.register("line",{delimiter:",",fill:"#c6d9fd",height:16,min:0,stroke:"#4d89f9",strokeWidth:1,width:32},function(a){var b=this.values();1==b.length&&b.push(b[0]);for(var e=h.max.apply(h,a.max==v?b:b.concat(a.max)),c=h.min.apply(h,a.min==v?b:b.concat(a.min)),d=this.prepare(a.width,a.height),l=a.strokeWidth,f=d.width(),j=d.height()-l,k=e-c,e=this.x=function(a){return a*(f/(b.length-1))},r=this.y=function(a){var b=j;k&&(b-=(a-c)/k*j);return b+l/2},s=r(h.max(c,0)),g=[0,s],m=0;m<b.length;m++)g.push(e(m),r(b[m]));g.push(f,s);a.fill&&d.append(q("polygon",{fill:a.fill,points:g.join(" ")}));l&&d.append(q("polyline",{fill:"none",points:g.slice(2,g.length-2).join(" "),stroke:a.stroke,"stroke-width":l,"stroke-linecap":"square"}))});d.register("bar",{delimiter:",",fill:["#4D89F9"],height:16,min:0,padding:0.1,width:32},function(a){for(var b=this.values(),e=h.max.apply(h,a.max==v?b:b.concat(a.max)),c=h.min.apply(h,a.min==v?b:b.concat(a.min)),d=this.prepare(a.width,a.height),l=d.width(),f=d.height(),j=e-c,a=a.padding,k=this.fill(),r=this.x=function(a){return a*l/b.length},s=this.y=function(a){return f-(j?(a-c)/j*f:1)},g=0;g<b.length;g++){var m=r(g+a),u=r(g+1-a)-m,i=b[g],p=s(i),n=p,o;j?0>i?n=s(h.min(e,0)):p=s(h.max(c,0)):o=1;o=p-n;0==o&&(o=1,0<e&&j&&n--);d.append(q("rect",{fill:k.call(this,i,g,b),x:m,y:n,width:u,height:o}))}})})(jQuery,document,Math);;!function(a){function b(){a("#ap-notifiside .ap-notification-scroll.scroll-wrapper").css({height:a(".ap-notification-items").outerHeight()-a(".ap-notification-head").outerHeight()})}a(document).ready(function(){a(document).click(function(b){b.stopPropagation(),a(b.target).is(".ap-dropdown-toggle")||a(b.target).closest(".open").is(".open")||a(b.target).closest("form").is("form")||a(".ap-dropdown").removeClass("open")}),a("body").delegate(".ap-dropdown-toggle, .ap-dropdown-menu > a","click",function(b){b.preventDefault(),a(".ap-dropdown").not(a(this).closest(".ap-dropdown")).removeClass("open"),a(this).closest(".ap-dropdown").toggleClass("open")}),a(".ap-tip").aptip(),a("#ap-conversation-scroll").scrollTop(0),a("textarea.autogrow, textarea#post_content").autogrow({onInitialize:!0}),a(".ap-categories-list li .ap-icon-arrow-down").click(function(b){b.preventDefault(),a(this).parent().next().slideToggle(200)}),a(".ap-radio-btn").click(function(){a(this).toggleClass("active")}),a(".bootstrap-tagsinput > input").keyup(function(b){a(this).css(width,"auto")}),a("body").delegate(".ap-notify-item","click",function(b){b.preventDefault(),a(this).hide()}),a('[data-action="ap_chart"]').length>0&&a('[data-action="ap_chart"]').each(function(b,c){var d=a(this).data("type");a(this).peity(d)}),apLaodAvatar(),a(document).ajaxComplete(function(a,b,c){apLaodAvatar()}),a(".ap-label-form-item").click(function(b){b.preventDefault(),a(this).toggleClass("active");var c=a(this).find('input[type="hidden"]');c.val(""==c.val()?a(this).data("label"):"")}),apLoadingDot(),a(".ap-sidetoggle").click(function(){a("#ap-notifiside").toggle(),b(),ApSite.notificationAsRead()})}),apFunctions.apSubscribeBtnCB=function(b,c){"subscribed"==b.action?a(c).addClass("active"):a(c).removeClass("active")},apFunctions.apAppendEditor=function(b,c){a(".ap-field-description").html(b),a("#description").hide(),a(c).closest(".ap-minimal-editor").removeClass("ap-minimal-editor")},apFunctions.initScrollbar=function(a,b){}}(jQuery);;(function($){'use strict';function apSanitizeTitle(str){str=str.replace(/^\s+|\s+$/g,'');str=str.toLowerCase();var from="ãàáäâẽèéëêìíïîõòóöôùúüûñç·/_,:;";var to="aaaaaeeeeeiiiiooooouuuunc------";str=str.replace(/\s+/g,'-').replace(/-+/g,'-');return str;}
function apAddTag(str,container){str=str.replace(/,/g,'');str=str.trim();str=apSanitizeTitle(str);if(str.length>0){var htmlTag={element:'li',class:'ap-tagssugg-item',itemValueClass:'ap-tag-item-value',button:{class:'ap-tag-add',icon:'apicon-plus',},input:'',accessibilityText:apTagsTranslation.addTag}
if(!container){var container='#ap-tags-holder';htmlTag.button.class='ap-tag-remove';htmlTag.button.icon='apicon-x';htmlTag.input='<input type="hidden" name="tags[]" value="'+str+'" />';htmlTag.accessibilityText=apTagsTranslation.deleteTag;var exist_el=false;$(container).find('.'+htmlTag.class).find('.'+htmlTag.itemValueClass).each(function(index,el){if(apSanitizeTitle($(this).text())==str)
exist_el=$(this);});if(exist_el!==false){exist_el.animate({opacity:0},100,function(){exist_el.animate({opacity:1},400);});return;}
if(!$('#tags').is(':focus'))
$('#tags').val('').focus();$('#ap-tags-suggestion').hide();setTimeout(function(){$('#ap-tags-aria-message').text(str+" "+apTagsTranslation.tagAdded);},250);}
var html=$('<'+htmlTag.element+' class="'+htmlTag.class+'" title="'+htmlTag.accessibilityText+'"><button role="button" class="'+htmlTag.button.class+'"><span class="'+htmlTag.itemValueClass+'">'+str+'</span><i class="'+htmlTag.button.icon+'"></i></button>'+htmlTag.input+'</'+htmlTag.element+'>');html.appendTo(container).fadeIn(300);}}
function apTagsSuggestion(value){if(typeof window.tagsquery!=='undefined'){window.tagsquery.abort();}
window.tagsquery=jQuery.ajax({type:'POST',url:ajaxurl,data:{action:'ap_tags_suggestion',q:value},context:this,dataType:'json',success:function(data){AnsPress.site.hideLoading(this);console.log(data);$('#ap-tags-suggestion').html('');if(!data.status)
return;if(!$('#ap-tags-suggestion').is(':visible')){$('#ap-tags-suggestion').show();}
if(data['items']){$.each(data['items'],function(index,val){var holderItems=[];$("#ap-tags-holder .ap-tag-item-value").each(function(){holderItems.push($(this).text())});if($.inArray(val,holderItems)<0)
apAddTag(val,'#ap-tags-suggestion');});}
setTimeout(function(){$('#ap-tags-aria-message').text(apTagsTranslation.suggestionsAvailable);},250);}});}
$(document).ready(function(){$('#tags').on('apAddNewTag',function(e){e.preventDefault();apAddTag($(this).val().trim(','));$(this).val('');});$('#tags').on('keydown',function(e){if(e.keyCode==13){e.preventDefault();return false;}
if(e.keyCode==38||e.keyCode==40){var inputs=$('#ap-tags-suggestion').find('.ap-tag-add');var focused=$('#ap-tags-suggestion').find('.focus');var index=inputs.index(focused);if(index!=-1){if(e.keyCode==38)
index--;if(e.keyCode==40)
index++;}
else{if(e.keyCode==38)
index=inputs.length-1;if(e.keyCode==40)
index=0;}
if(index>=inputs.length)
index=-1;inputs.removeClass('focus');if(index!=-1){inputs.eq(index).addClass('focus');$(this).val(inputs.eq(index).find('.ap-tag-item-value').text());}
else{$(this).val($(this).attr('data-original-value'));}}});$('#tags').on('keyup focus',function(e){e.preventDefault();var val=$(this).val().trim();clearTimeout(window.tagtime);if(e.keyCode!=9&&e.keyCode!=37&&e.keyCode!=38&&e.keyCode!=39&&e.keyCode!=40){if(e.keyCode==13||e.keyCode==188){clearTimeout(window.tagtime);$(this).trigger('apAddNewTag');}else{$(this).attr('data-original-value',$(this).val());window.tagtime=setTimeout(function(){apTagsSuggestion(val);},200);}}});$('#ap-tags-suggestion').delegate('.ap-tagssugg-item','click',function(e){apAddTag($(this).find('.ap-tag-item-value').text());$(this).remove();});$('body').on('click focusin',function(e){if($('#ap-tags-suggestion').is(':visible')&&$(e.target).parents('#ap-tags-add').length<=0)
$('#ap-tags-suggestion').hide();});$('body').delegate('.ap-tagssugg-item','click',function(event){var itemValue=$(this).find('.ap-tag-item-value').text();setTimeout(function(){$('#ap-tags-aria-message').text(itemValue+" "+apTagsTranslation.tagRemoved);},250);$(this).remove();$('#ap-tags-list-title').focus();});$('body').append('<div role="status" id="ap-tags-aria-message" aria-live="polite" aria-atomic="true" class="sr-only"></div>');})})(jQuery);function quicktags(a){return new QTags(a)}function edInsertContent(a,b){return QTags.insertContent(b)}function edButton(a,b,c,d,e){return QTags.addButton(a,b,c,d,e,"",-1)}var QTags,edCanvas,edButtons=[],edAddTag=function(){},edCheckOpenTags=function(){},edCloseAllTags=function(){},edInsertImage=function(){},edInsertLink=function(){},edInsertTag=function(){},edLink=function(){},edQuickLink=function(){},edRemoveTag=function(){},edShowButton=function(){},edShowLinks=function(){},edSpell=function(){},edToolbar=function(){};!function(){function a(a){return a=a||"",a=a.replace(/&([^#])(?![a-z1-4]{1,8};)/gi,"&#038;$1"),a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}var b,c=function(a){var b,d,e,f;"undefined"!=typeof jQuery?jQuery(document).ready(a):(b=c,b.funcs=[],b.ready=function(){if(!b.isReady)for(b.isReady=!0,d=0;d<b.funcs.length;d++)b.funcs[d]()},b.isReady?a():b.funcs.push(a),b.eventAttached||(document.addEventListener?(e=function(){document.removeEventListener("DOMContentLoaded",e,!1),b.ready()},document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",b.ready,!1)):document.attachEvent&&(e=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",e),b.ready())},document.attachEvent("onreadystatechange",e),window.attachEvent("onload",b.ready),(f=function(){try{document.documentElement.doScroll("left")}catch(a){return void setTimeout(f,50)}b.ready()})()),b.eventAttached=!0))},d=function(){var a,b=new Date;return a=function(a){var b=a.toString();return b.length<2&&(b="0"+b),b},b.getUTCFullYear()+"-"+a(b.getUTCMonth()+1)+"-"+a(b.getUTCDate())+"T"+a(b.getUTCHours())+":"+a(b.getUTCMinutes())+":"+a(b.getUTCSeconds())+"+00:00"}();b=QTags=function(a){if("string"==typeof a)a={id:a};else if("object"!=typeof a)return!1;var d,e,f,g,h,i=this,j=a.id,k=document.getElementById(j),l="qt_"+j;return j&&k?(i.name=l,i.id=j,i.canvas=k,i.settings=a,"content"!==j||"string"!=typeof adminpage||"post-new-php"!==adminpage&&"post-php"!==adminpage?f=l+"_toolbar":(edCanvas=k,f="ed_toolbar"),d=document.getElementById(f),d||(d=document.createElement("div"),d.id=f,d.className="quicktags-toolbar"),k.parentNode.insertBefore(d,k),i.toolbar=d,e=function(a){a=a||window.event;var b,c=a.target||a.srcElement,d=c.clientWidth||c.offsetWidth;d&&/ ed_button /.test(" "+c.className+" ")&&(i.canvas=k=document.getElementById(j),b=c.id.replace(l+"_",""),i.theButtons[b]&&i.theButtons[b].callback.call(i.theButtons[b],c,k,i))},h=function(){window.wpActiveEditor=j},g=document.getElementById("wp-"+j+"-wrap"),d.addEventListener?(d.addEventListener("click",e,!1),g&&g.addEventListener("click",h,!1)):d.attachEvent&&(d.attachEvent("onclick",e),g&&g.attachEvent("onclick",h)),i.getButton=function(a){return i.theButtons[a]},i.getButtonElement=function(a){return document.getElementById(l+"_"+a)},b.instances[j]=i,void(b.instances[0]||(b.instances[0]=b.instances[j],c(function(){b._buttonsInit()})))):!1},b.instances={},b.getInstance=function(a){return b.instances[a]},b._buttonsInit=function(){var a,c,d,e,f,g,h,i,j,k,l=this,m=",strong,em,link,block,del,ins,img,ul,ol,li,code,more,close,";for(g in l.instances)if("0"!==g){h=l.instances[g],a=h.canvas,c=h.name,d=h.settings,f="",e={},k="",d.buttons&&(k=","+d.buttons+",");for(j in edButtons)edButtons[j]&&(i=edButtons[j].id,k&&-1!==m.indexOf(","+i+",")&&-1===k.indexOf(","+i+",")||edButtons[j].instance&&edButtons[j].instance!==g||(e[i]=edButtons[j],edButtons[j].html&&(f+=edButtons[j].html(c+"_"))));k&&-1!==k.indexOf(",dfw,")&&(e.dfw=new b.DFWButton,f+=e.dfw.html(c+"_")),"rtl"===document.getElementsByTagName("html")[0].dir&&(e.textdirection=new b.TextDirectionButton,f+=e.textdirection.html(c+"_")),h.toolbar.innerHTML=f,h.theButtons=e,"undefined"!=typeof jQuery&&jQuery(document).triggerHandler("quicktags-init",[h])}l.buttonsInitDone=!0},b.addButton=function(a,c,d,e,f,g,h,i,j){var k;if(a&&c){if(h=h||0,e=e||"",j=j||{},"function"==typeof d)k=new b.Button(a,c,f,g,i,j),k.callback=d;else{if("string"!=typeof d)return;k=new b.TagButton(a,c,d,e,f,g,i,j)}if(-1===h)return k;if(h>0){for(;"undefined"!=typeof edButtons[h];)h++;edButtons[h]=k}else edButtons[edButtons.length]=k;this.buttonsInitDone&&this._buttonsInit()}},b.insertContent=function(a){var b,c,d,e,f,g=document.getElementById(wpActiveEditor);return g?(document.selection?(g.focus(),b=document.selection.createRange(),b.text=a,g.focus()):g.selectionStart||0===g.selectionStart?(f=g.value,c=g.selectionStart,d=g.selectionEnd,e=g.scrollTop,g.value=f.substring(0,c)+a+f.substring(d,f.length),g.selectionStart=c+a.length,g.selectionEnd=c+a.length,g.scrollTop=e,g.focus()):(g.value+=a,g.focus()),!0):!1},b.Button=function(a,b,c,d,e,f){this.id=a,this.display=b,this.access="",this.title=d||"",this.instance=e||"",this.attr=f||{}},b.Button.prototype.html=function(b){var c,d,e,f=this.title?' title="'+a(this.title)+'"':"",g=this.attr&&this.attr.ariaLabel?' aria-label="'+a(this.attr.ariaLabel)+'"':"",h=this.display?' value="'+a(this.display)+'"':"",i=this.id?' id="'+a(b+this.id)+'"':"",j=(e=window.wp)&&e.editor&&e.editor.dfw;return"fullscreen"===this.id?'<button type="button"'+i+' class="ed_button qt-dfw qt-fullscreen"'+f+g+"></button>":"dfw"===this.id?(c=j&&j.isActive()?"":' disabled="disabled"',d=j&&j.isOn()?" active":"",'<button type="button"'+i+' class="ed_button qt-dfw'+d+'"'+f+g+c+"></button>"):'<input type="button"'+i+' class="ed_button button button-small"'+f+g+h+" />"},b.Button.prototype.callback=function(){},b.TagButton=function(a,c,d,e,f,g,h,i){var j=this;b.Button.call(j,a,c,f,g,h,i),j.tagStart=d,j.tagEnd=e},b.TagButton.prototype=new b.Button,b.TagButton.prototype.openTag=function(a,b){b.openTags||(b.openTags=[]),this.tagEnd&&(b.openTags.push(this.id),a.value="/"+a.value,this.attr.ariaLabelClose&&a.setAttribute("aria-label",this.attr.ariaLabelClose))},b.TagButton.prototype.closeTag=function(a,b){var c=this.isOpen(b);c!==!1&&b.openTags.splice(c,1),a.value=this.display,this.attr.ariaLabel&&a.setAttribute("aria-label",this.attr.ariaLabel)},b.TagButton.prototype.isOpen=function(a){var b=this,c=0,d=!1;if(a.openTags)for(;d===!1&&c<a.openTags.length;)d=a.openTags[c]===b.id?c:!1,c++;else d=!1;return d},b.TagButton.prototype.callback=function(a,b,c){var d,e,f,g,h,i,j,k,l=this,m=b.value,n=m?l.tagEnd:"";document.selection?(b.focus(),k=document.selection.createRange(),k.text.length>0?l.tagEnd?k.text=l.tagStart+k.text+n:k.text=k.text+l.tagStart:l.tagEnd?l.isOpen(c)===!1?(k.text=l.tagStart,l.openTag(a,c)):(k.text=n,l.closeTag(a,c)):k.text=l.tagStart,b.focus()):b.selectionStart||0===b.selectionStart?(d=b.selectionStart,e=b.selectionEnd,f=e,g=b.scrollTop,h=m.substring(0,d),i=m.substring(e,m.length),j=m.substring(d,e),d!==e?l.tagEnd?(b.value=h+l.tagStart+j+n+i,f+=l.tagStart.length+n.length):(b.value=h+j+l.tagStart+i,f+=l.tagStart.length):l.tagEnd?l.isOpen(c)===!1?(b.value=h+l.tagStart+i,l.openTag(a,c),f=d+l.tagStart.length):(b.value=h+n+i,f=d+n.length,l.closeTag(a,c)):(b.value=h+l.tagStart+i,f=d+l.tagStart.length),b.selectionStart=f,b.selectionEnd=f,b.scrollTop=g,b.focus()):(n?l.isOpen(c)!==!1?(b.value+=l.tagStart,l.openTag(a,c)):(b.value+=n,l.closeTag(a,c)):b.value+=l.tagStart,b.focus())},b.SpellButton=function(){},b.CloseButton=function(){b.Button.call(this,"close",quicktagsL10n.closeTags,"",quicktagsL10n.closeAllOpenTags)},b.CloseButton.prototype=new b.Button,b._close=function(a,b,c){var d,e,f=c.openTags;if(f)for(;f.length>0;)d=c.getButton(f[f.length-1]),e=document.getElementById(c.name+"_"+d.id),a?d.callback.call(d,e,b,c):d.closeTag(e,c)},b.CloseButton.prototype.callback=b._close,b.closeAllTags=function(a){var c=this.getInstance(a);b._close("",c.canvas,c)},b.LinkButton=function(){var a={ariaLabel:quicktagsL10n.link};b.TagButton.call(this,"link","link","","</a>","","","",a)},b.LinkButton.prototype=new b.TagButton,b.LinkButton.prototype.callback=function(a,c,d,e){var f,g=this;return"undefined"!=typeof wpLink?void wpLink.open(d.id):(e||(e="http://"),void(g.isOpen(d)===!1?(f=prompt(quicktagsL10n.enterURL,e),f&&(g.tagStart='<a href="'+f+'">',b.TagButton.prototype.callback.call(g,a,c,d))):b.TagButton.prototype.callback.call(g,a,c,d)))},b.ImgButton=function(){var a={ariaLabel:quicktagsL10n.image};b.TagButton.call(this,"img","img","","","","","",a)},b.ImgButton.prototype=new b.TagButton,b.ImgButton.prototype.callback=function(a,c,d,e){e||(e="http://");var f,g=prompt(quicktagsL10n.enterImageURL,e);g&&(f=prompt(quicktagsL10n.enterImageDescription,""),this.tagStart='<img src="'+g+'" alt="'+f+'" />',b.TagButton.prototype.callback.call(this,a,c,d))},b.DFWButton=function(){b.Button.call(this,"dfw","","f",quicktagsL10n.dfw)},b.DFWButton.prototype=new b.Button,b.DFWButton.prototype.callback=function(){var a;(a=window.wp)&&a.editor&&a.editor.dfw&&window.wp.editor.dfw.toggle()},b.TextDirectionButton=function(){b.Button.call(this,"textdirection",quicktagsL10n.textdirection,"",quicktagsL10n.toggleTextdirection)},b.TextDirectionButton.prototype=new b.Button,b.TextDirectionButton.prototype.callback=function(a,b){var c="rtl"===document.getElementsByTagName("html")[0].dir,d=b.style.direction;d||(d=c?"rtl":"ltr"),b.style.direction="rtl"===d?"ltr":"rtl",b.focus()},edButtons[10]=new b.TagButton("strong","b","<strong>","</strong>","","","",{ariaLabel:quicktagsL10n.strong,ariaLabelClose:quicktagsL10n.strongClose}),edButtons[20]=new b.TagButton("em","i","<em>","</em>","","","",{ariaLabel:quicktagsL10n.em,ariaLabelClose:quicktagsL10n.emClose}),edButtons[30]=new b.LinkButton,edButtons[40]=new b.TagButton("block","b-quote","\n\n<blockquote>","</blockquote>\n\n","","","",{ariaLabel:quicktagsL10n.blockquote,ariaLabelClose:quicktagsL10n.blockquoteClose}),edButtons[50]=new b.TagButton("del","del",'<del datetime="'+d+'">',"</del>","","","",{ariaLabel:quicktagsL10n.del,ariaLabelClose:quicktagsL10n.delClose}),edButtons[60]=new b.TagButton("ins","ins",'<ins datetime="'+d+'">',"</ins>","","","",{ariaLabel:quicktagsL10n.ins,ariaLabelClose:quicktagsL10n.insClose}),edButtons[70]=new b.ImgButton,edButtons[80]=new b.TagButton("ul","ul","<ul>\n","</ul>\n\n","","","",{ariaLabel:quicktagsL10n.ul,ariaLabelClose:quicktagsL10n.ulClose}),edButtons[90]=new b.TagButton("ol","ol","<ol>\n","</ol>\n\n","","","",{ariaLabel:quicktagsL10n.ol,ariaLabelClose:quicktagsL10n.olClose}),edButtons[100]=new b.TagButton("li","li"," <li>","</li>\n","","","",{ariaLabel:quicktagsL10n.li,ariaLabelClose:quicktagsL10n.liClose}),edButtons[110]=new b.TagButton("code","code","<code>","</code>","","","",{ariaLabel:quicktagsL10n.code,ariaLabelClose:quicktagsL10n.codeClose}),edButtons[120]=new b.TagButton("more","more","<!--more-->\n\n","","","","",{ariaLabel:quicktagsL10n.more}),edButtons[140]=new b.CloseButton}();